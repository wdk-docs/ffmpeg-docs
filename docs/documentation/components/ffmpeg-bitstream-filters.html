

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="zh-CN" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="zh-CN" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>FFmpeg Bitstream Filters Documentation &mdash; ffmpeg-docs v2019.06.09 文档</title>
  

  
  
  
  

  
  <script type="text/javascript" src="../../_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../../" src="../../_static/documentation_options.js"></script>
        <script type="text/javascript" src="../../_static/jquery.js"></script>
        <script type="text/javascript" src="../../_static/underscore.js"></script>
        <script type="text/javascript" src="../../_static/doctools.js"></script>
        <script type="text/javascript" src="../../_static/language_data.js"></script>
        <script type="text/javascript" src="../../_static/translations.js"></script>
    
    <script type="text/javascript" src="../../_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
    <link rel="author" title="关于这些文档" href="../../about.html" />
    <link rel="index" title="索引" href="../../genindex.html" />
    <link rel="search" title="搜索" href="../../search.html" />
    <link rel="next" title="FFmpeg Formats Documentation" href="ffmpeg-formats.html" />
    <link rel="prev" title="FFmpeg Codecs Documentation" href="ffmpeg-codecs.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../../contents.html" class="icon icon-home"> ffmpeg-docs
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../index.html">FFmpeg</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../about.html">关于FFmpeg</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../index.html">文档</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../index.html#command-line-tools-documentation">Command Line Tools Documentation</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="../index.html#components-documentation">Components Documentation</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="ffmpeg-utils.html">FFmpeg Utilities Documentation</a></li>
<li class="toctree-l3"><a class="reference internal" href="ffmpeg-scaler.html">FFmpeg Scaler Documentation</a></li>
<li class="toctree-l3"><a class="reference internal" href="ffmpeg-resampler.html">FFmpeg Resampler Documentation</a></li>
<li class="toctree-l3"><a class="reference internal" href="ffmpeg-codecs.html">FFmpeg Codecs Documentation</a></li>
<li class="toctree-l3 current"><a class="current reference internal" href="#">FFmpeg Bitstream Filters Documentation</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#description">1 Description</a></li>
<li class="toctree-l4"><a class="reference internal" href="#bitstream-filters">2 Bitstream Filters</a></li>
<li class="toctree-l4"><a class="reference internal" href="#aac-adtstoasc">2.1 aac_adtstoasc</a></li>
<li class="toctree-l4"><a class="reference internal" href="#av1-metadata">2.2 av1_metadata</a></li>
<li class="toctree-l4"><a class="reference internal" href="#chomp">2.3 chomp</a></li>
<li class="toctree-l4"><a class="reference internal" href="#dca-core">2.4 dca_core</a></li>
<li class="toctree-l4"><a class="reference internal" href="#dump-extra">2.5 dump_extra</a></li>
<li class="toctree-l4"><a class="reference internal" href="#filter-units">2.8 filter_units</a></li>
<li class="toctree-l4"><a class="reference internal" href="#see-also">3 See Also</a></li>
<li class="toctree-l4"><a class="reference internal" href="#authors">4 Authors</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="ffmpeg-formats.html">FFmpeg Formats Documentation</a></li>
<li class="toctree-l3"><a class="reference internal" href="ffmpeg-protocols.html">FFmpeg Protocols Documentation</a></li>
<li class="toctree-l3"><a class="reference internal" href="ffmpeg-devices.html">FFmpeg Devices Documentation</a></li>
<li class="toctree-l3"><a class="reference internal" href="ffmpeg-filters.html">FFmpeg Filters Documentation</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../index.html#libraries-documentation">Libraries Documentation</a></li>
<li class="toctree-l2"><a class="reference internal" href="../index.html#general-documentation">General Documentation</a></li>
<li class="toctree-l2"><a class="reference internal" href="../index.html#api-documentation">API Documentation</a></li>
<li class="toctree-l2"><a class="reference internal" href="../index.html#community-contributed-documentation">Community Contributed Documentation</a></li>
<li class="toctree-l2"><a class="reference internal" href="../index.html#books-about-ffmpeg">Books about FFmpeg</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../download.html">下载FFmpeg</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../news.html">新闻</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../contact.html">联系我们</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../bugreports.html">错误报告</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../wiki.html">欢迎来到FFmpeg Bug Tracker和Wiki</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../donations.html">捐赠</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../consulting.html">与FFmpeg相关的咨询和就业机会</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../security.html">FFmpeg安全</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../legal.html">FFmpeg许可和法律注意事项</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../contents.html">ffmpeg-docs</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../../contents.html">Docs</a> &raquo;</li>
        
          <li><a href="../index.html">文档</a> &raquo;</li>
        
      <li>FFmpeg Bitstream Filters Documentation</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../../_sources/documentation/components/ffmpeg-bitstream-filters.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="ffmpeg-bitstream-filters-documentation">
<h1>FFmpeg Bitstream Filters Documentation<a class="headerlink" href="#ffmpeg-bitstream-filters-documentation" title="永久链接至标题">¶</a></h1>
<p>Table of Contents
1 Description
2 Bitstream Filters
2.1 aac_adtstoasc
2.2 av1_metadata
2.3 chomp
2.4 dca_core
2.5 dump_extra
2.6 eac3_core
2.7 extract_extradata
2.8 filter_units
2.9 hapqa_extract
2.10 h264_metadata
2.11 h264_mp4toannexb
2.12 h264_redundant_pps
2.13 hevc_metadata
2.14 hevc_mp4toannexb
2.15 imxdump
2.16 mjpeg2jpeg
2.17 mjpegadump
2.18 mov2textsub
2.19 mp3decomp
2.20 mpeg2_metadata
2.21 mpeg4_unpack_bframes
2.22 noise
2.23 null
2.24 prores_metadata
2.25 remove_extra
2.26 text2movsub
2.27 trace_headers
2.28 truehd_core
2.29 vp9_metadata
2.30 vp9_superframe
2.31 vp9_superframe_split
2.32 vp9_raw_reorder
3 See Also
4 Authors</p>
<div class="section" id="description">
<h2>1 Description<a class="headerlink" href="#description" title="永久链接至标题">¶</a></h2>
<p>This document describes the bitstream filters provided by the libavcodec library.</p>
<p>A bitstream filter operates on the encoded stream data, and performs bitstream level modifications without performing decoding.</p>
</div>
<div class="section" id="bitstream-filters">
<h2>2 Bitstream Filters<a class="headerlink" href="#bitstream-filters" title="永久链接至标题">¶</a></h2>
<p>When you configure your FFmpeg build, all the supported bitstream filters are enabled by default. You can list all available ones using the configure option –list-bsfs.</p>
<p>You can disable all the bitstream filters using the configure option –disable-bsfs, and selectively enable any bitstream filter using the option –enable-bsf=BSF, or you can disable a particular bitstream filter using the option –disable-bsf=BSF.</p>
<p>The option -bsfs of the ff* tools will display the list of all the supported bitstream filters included in your build.</p>
<p>The ff* tools have a -bsf option applied per stream, taking a comma-separated list of filters, whose parameters follow the filter name after a ’=’.</p>
<p>ffmpeg -i INPUT -c:v copy -bsf:v filter1[=opt1=str1:opt2=str2][,filter2] OUTPUT
Below is a description of the currently available bitstream filters, with their parameters, if any.</p>
</div>
<div class="section" id="aac-adtstoasc">
<h2>2.1 aac_adtstoasc<a class="headerlink" href="#aac-adtstoasc" title="永久链接至标题">¶</a></h2>
<p>Convert MPEG-2/4 AAC ADTS to an MPEG-4 Audio Specific Configuration bitstream.</p>
<p>This filter creates an MPEG-4 AudioSpecificConfig from an MPEG-2/4 ADTS header and removes the ADTS header.</p>
<p>This filter is required for example when copying an AAC stream from a raw ADTS AAC or an MPEG-TS container to MP4A-LATM, to an FLV file, or to MOV/MP4 files and related formats such as 3GP or M4A. Please note that it is auto-inserted for MP4A-LATM and MOV/MP4 and related formats.</p>
</div>
<div class="section" id="av1-metadata">
<h2>2.2 av1_metadata<a class="headerlink" href="#av1-metadata" title="永久链接至标题">¶</a></h2>
<p>Modify metadata embedded in an AV1 stream.</p>
<p>td
Insert or remove temporal delimiter OBUs in all temporal units of the stream.</p>
<p>‘insert’
Insert a TD at the beginning of every TU which does not already have one.</p>
<p>‘remove’
Remove the TD from the beginning of every TU which has one.</p>
<p>color_primaries
transfer_characteristics
matrix_coefficients
Set the color description fields in the stream (see AV1 section 6.4.2).</p>
<p>color_range
Set the color range in the stream (see AV1 section 6.4.2; note that this cannot be set for streams using BT.709 primaries, sRGB transfer characteristic and identity (RGB) matrix coefficients).</p>
<p>‘tv’
Limited range.</p>
<p>‘pc’
Full range.</p>
<p>chroma_sample_position
Set the chroma sample location in the stream (see AV1 section 6.4.2). This can only be set for 4:2:0 streams.</p>
<p>‘vertical’
Left position (matching the default in MPEG-2 and H.264).</p>
<p>‘colocated’
Top-left position.</p>
<p>tick_rate
Set the tick rate (num_units_in_display_tick / time_scale) in the timing info in the sequence header.</p>
<p>num_ticks_per_picture
Set the number of ticks in each picture, to indicate that the stream has a fixed framerate. Ignored if tick_rate is not also set.</p>
<p>delete_padding
Deletes Padding OBUs.</p>
</div>
<div class="section" id="chomp">
<h2>2.3 chomp<a class="headerlink" href="#chomp" title="永久链接至标题">¶</a></h2>
<p>Remove zero padding at the end of a packet.</p>
</div>
<div class="section" id="dca-core">
<h2>2.4 dca_core<a class="headerlink" href="#dca-core" title="永久链接至标题">¶</a></h2>
<p>Extract the core from a DCA/DTS stream, dropping extensions such as DTS-HD.</p>
</div>
<div class="section" id="dump-extra">
<h2>2.5 dump_extra<a class="headerlink" href="#dump-extra" title="永久链接至标题">¶</a></h2>
<p>Add extradata to the beginning of the filtered packets.</p>
<p>freq
The additional argument specifies which packets should be filtered. It accepts the values:</p>
<p>‘k’
‘keyframe’
add extradata to all key packets</p>
<p>‘e’
‘all’
add extradata to all packets</p>
<p>If not specified it is assumed ‘k’.</p>
<p>For example the following ffmpeg command forces a global header (thus disabling individual packet headers) in the H.264 packets generated by the libx264 encoder, but corrects them by adding the header stored in extradata to the key packets:</p>
<p>ffmpeg -i INPUT -map 0 -flags:v +global_header -c:v libx264 -bsf:v dump_extra out.ts
2.6 eac3_core
Extract the core from a E-AC-3 stream, dropping extra channels.</p>
<p>2.7 extract_extradata
Extract the in-band extradata.</p>
<p>Certain codecs allow the long-term headers (e.g. MPEG-2 sequence headers, or H.264/HEVC (VPS/)SPS/PPS) to be transmitted either “in-band” (i.e. as a part of the bitstream containing the coded frames) or “out of band” (e.g. on the container level). This latter form is called “extradata” in FFmpeg terminology.</p>
<p>This bitstream filter detects the in-band headers and makes them available as extradata.</p>
<p>remove
When this option is enabled, the long-term headers are removed from the bitstream after extraction.</p>
</div>
<div class="section" id="filter-units">
<h2>2.8 filter_units<a class="headerlink" href="#filter-units" title="永久链接至标题">¶</a></h2>
<p>Remove units with types in or not in a given set from the stream.</p>
<p>pass_types
List of unit types or ranges of unit types to pass through while removing all others. This is specified as a ’|’-separated list of unit type values or ranges of values with ’-’.</p>
<p>remove_types
Identical to pass_types, except the units in the given set removed and all others passed through.</p>
<p>Extradata is unchanged by this transformation, but note that if the stream contains inline parameter sets then the output may be unusable if they are removed.</p>
<p>For example, to remove all non-VCL NAL units from an H.264 stream:</p>
<p>ffmpeg -i INPUT -c:v copy -bsf:v ‘filter_units=pass_types=1-5’ OUTPUT
To remove all AUDs, SEI and filler from an H.265 stream:</p>
<p>ffmpeg -i INPUT -c:v copy -bsf:v ‘filter_units=remove_types=35|38-40’ OUTPUT
2.9 hapqa_extract
Extract Rgb or Alpha part of an HAPQA file, without recompression, in order to create an HAPQ or an HAPAlphaOnly file.</p>
<p>texture
Specifies the texture to keep.</p>
<p>color
alpha
Convert HAPQA to HAPQ</p>
<p>ffmpeg -i hapqa_inputfile.mov -c copy -bsf:v hapqa_extract=texture=color -tag:v HapY -metadata:s:v:0 encoder=”HAPQ” hapq_file.mov
Convert HAPQA to HAPAlphaOnly</p>
<p>ffmpeg -i hapqa_inputfile.mov -c copy -bsf:v hapqa_extract=texture=alpha -tag:v HapA -metadata:s:v:0 encoder=”HAPAlpha Only” hapalphaonly_file.mov
2.10 h264_metadata
Modify metadata embedded in an H.264 stream.</p>
<p>aud
Insert or remove AUD NAL units in all access units of the stream.</p>
<p>‘insert’
‘remove’
sample_aspect_ratio
Set the sample aspect ratio of the stream in the VUI parameters.</p>
<p>video_format
video_full_range_flag
Set the video format in the stream (see H.264 section E.2.1 and table E-2).</p>
<p>colour_primaries
transfer_characteristics
matrix_coefficients
Set the colour description in the stream (see H.264 section E.2.1 and tables E-3, E-4 and E-5).</p>
<p>chroma_sample_loc_type
Set the chroma sample location in the stream (see H.264 section E.2.1 and figure E-1).</p>
<p>tick_rate
Set the tick rate (num_units_in_tick / time_scale) in the VUI parameters. This is the smallest time unit representable in the stream, and in many cases represents the field rate of the stream (double the frame rate).</p>
<p>fixed_frame_rate_flag
Set whether the stream has fixed framerate - typically this indicates that the framerate is exactly half the tick rate, but the exact meaning is dependent on interlacing and the picture structure (see H.264 section E.2.1 and table E-6).</p>
<p>crop_left
crop_right
crop_top
crop_bottom
Set the frame cropping offsets in the SPS. These values will replace the current ones if the stream is already cropped.</p>
<p>These fields are set in pixels. Note that some sizes may not be representable if the chroma is subsampled or the stream is interlaced (see H.264 section 7.4.2.1.1).</p>
<p>sei_user_data
Insert a string as SEI unregistered user data. The argument must be of the form UUID+string, where the UUID is as hex digits possibly separated by hyphens, and the string can be anything.</p>
<p>For example, ‘086f3693-b7b3-4f2c-9653-21492feee5b8+hello’ will insert the string “hello” associated with the given UUID.</p>
<p>delete_filler
Deletes both filler NAL units and filler SEI messages.</p>
<p>level
Set the level in the SPS. Refer to H.264 section A.3 and tables A-1 to A-5.</p>
<p>The argument must be the name of a level (for example, ‘4.2’), a level_idc value (for example, ‘42’), or the special name ‘auto’ indicating that the filter should attempt to guess the level from the input stream properties.</p>
<p>2.11 h264_mp4toannexb
Convert an H.264 bitstream from length prefixed mode to start code prefixed mode (as defined in the Annex B of the ITU-T H.264 specification).</p>
<p>This is required by some streaming formats, typically the MPEG-2 transport stream format (muxer mpegts).</p>
<p>For example to remux an MP4 file containing an H.264 stream to mpegts format with ffmpeg, you can use the command:</p>
<p>ffmpeg -i INPUT.mp4 -codec copy -bsf:v h264_mp4toannexb OUTPUT.ts
Please note that this filter is auto-inserted for MPEG-TS (muxer mpegts) and raw H.264 (muxer h264) output formats.</p>
<p>2.12 h264_redundant_pps
This applies a specific fixup to some Blu-ray streams which contain redundant PPSs modifying irrelevant parameters of the stream which confuse other transformations which require correct extradata.</p>
<p>A new single global PPS is created, and all of the redundant PPSs within the stream are removed.</p>
<p>2.13 hevc_metadata
Modify metadata embedded in an HEVC stream.</p>
<p>aud
Insert or remove AUD NAL units in all access units of the stream.</p>
<p>‘insert’
‘remove’
sample_aspect_ratio
Set the sample aspect ratio in the stream in the VUI parameters.</p>
<p>video_format
video_full_range_flag
Set the video format in the stream (see H.265 section E.3.1 and table E.2).</p>
<p>colour_primaries
transfer_characteristics
matrix_coefficients
Set the colour description in the stream (see H.265 section E.3.1 and tables E.3, E.4 and E.5).</p>
<p>chroma_sample_loc_type
Set the chroma sample location in the stream (see H.265 section E.3.1 and figure E.1).</p>
<p>tick_rate
Set the tick rate in the VPS and VUI parameters (num_units_in_tick / time_scale). Combined with num_ticks_poc_diff_one, this can set a constant framerate in the stream. Note that it is likely to be overridden by container parameters when the stream is in a container.</p>
<p>num_ticks_poc_diff_one
Set poc_proportional_to_timing_flag in VPS and VUI and use this value to set num_ticks_poc_diff_one_minus1 (see H.265 sections 7.4.3.1 and E.3.1). Ignored if tick_rate is not also set.</p>
<p>crop_left
crop_right
crop_top
crop_bottom
Set the conformance window cropping offsets in the SPS. These values will replace the current ones if the stream is already cropped.</p>
<p>These fields are set in pixels. Note that some sizes may not be representable if the chroma is subsampled (H.265 section 7.4.3.2.1).</p>
<p>2.14 hevc_mp4toannexb
Convert an HEVC/H.265 bitstream from length prefixed mode to start code prefixed mode (as defined in the Annex B of the ITU-T H.265 specification).</p>
<p>This is required by some streaming formats, typically the MPEG-2 transport stream format (muxer mpegts).</p>
<p>For example to remux an MP4 file containing an HEVC stream to mpegts format with ffmpeg, you can use the command:</p>
<p>ffmpeg -i INPUT.mp4 -codec copy -bsf:v hevc_mp4toannexb OUTPUT.ts
Please note that this filter is auto-inserted for MPEG-TS (muxer mpegts) and raw HEVC/H.265 (muxer h265 or hevc) output formats.</p>
<p>2.15 imxdump
Modifies the bitstream to fit in MOV and to be usable by the Final Cut Pro decoder. This filter only applies to the mpeg2video codec, and is likely not needed for Final Cut Pro 7 and newer with the appropriate -<a class="reference external" href="tag:v">tag:v</a>.</p>
<p>For example, to remux 30 MB/sec NTSC IMX to MOV:</p>
<p>ffmpeg -i input.mxf -c copy -bsf:v imxdump -tag:v mx3n output.mov
2.16 mjpeg2jpeg
Convert MJPEG/AVI1 packets to full JPEG/JFIF packets.</p>
<p>MJPEG is a video codec wherein each video frame is essentially a JPEG image. The individual frames can be extracted without loss, e.g. by</p>
<p>ffmpeg -i ../some_mjpeg.avi -c:v copy frames_%d.jpg
Unfortunately, these chunks are incomplete JPEG images, because they lack the DHT segment required for decoding. Quoting from http://www.digitalpreservation.gov/formats/fdd/fdd000063.shtml:</p>
<p>Avery Lee, writing in the rec.video.desktop newsgroup in 2001, commented that “MJPEG, or at least the MJPEG in AVIs having the MJPG fourcc, is restricted JPEG with a fixed – and <em>omitted</em> – Huffman table. The JPEG must be YCbCr colorspace, it must be 4:2:2, and it must use basic Huffman encoding, not arithmetic or progressive… . You can indeed extract the MJPEG frames and decode them with a regular JPEG decoder, but you have to prepend the DHT segment to them, or else the decoder won’t have any idea how to decompress the data. The exact table necessary is given in the OpenDML spec.”</p>
<p>This bitstream filter patches the header of frames extracted from an MJPEG stream (carrying the AVI1 header ID and lacking a DHT segment) to produce fully qualified JPEG images.</p>
<p>ffmpeg -i mjpeg-movie.avi -c:v copy -bsf:v mjpeg2jpeg frame_%d.jpg
exiftran -i -9 frame*.jpg
ffmpeg -i frame_%d.jpg -c:v copy rotated.avi
2.17 mjpegadump
Add an MJPEG A header to the bitstream, to enable decoding by Quicktime.</p>
<p>2.18 mov2textsub
Extract a representable text file from MOV subtitles, stripping the metadata header from each subtitle packet.</p>
<p>See also the text2movsub filter.</p>
<p>2.19 mp3decomp
Decompress non-standard compressed MP3 audio headers.</p>
<p>2.20 mpeg2_metadata
Modify metadata embedded in an MPEG-2 stream.</p>
<p>display_aspect_ratio
Set the display aspect ratio in the stream.</p>
<p>The following fixed values are supported:</p>
<p>4/3
16/9
221/100
Any other value will result in square pixels being signalled instead (see H.262 section 6.3.3 and table 6-3).</p>
<p>frame_rate
Set the frame rate in the stream. This is constructed from a table of known values combined with a small multiplier and divisor - if the supplied value is not exactly representable, the nearest representable value will be used instead (see H.262 section 6.3.3 and table 6-4).</p>
<p>video_format
Set the video format in the stream (see H.262 section 6.3.6 and table 6-6).</p>
<p>colour_primaries
transfer_characteristics
matrix_coefficients
Set the colour description in the stream (see H.262 section 6.3.6 and tables 6-7, 6-8 and 6-9).</p>
<p>2.21 mpeg4_unpack_bframes
Unpack DivX-style packed B-frames.</p>
<p>DivX-style packed B-frames are not valid MPEG-4 and were only a workaround for the broken Video for Windows subsystem. They use more space, can cause minor AV sync issues, require more CPU power to decode (unless the player has some decoded picture queue to compensate the 2,0,2,0 frame per packet style) and cause trouble if copied into a standard container like mp4 or mpeg-ps/ts, because MPEG-4 decoders may not be able to decode them, since they are not valid MPEG-4.</p>
<p>For example to fix an AVI file containing an MPEG-4 stream with DivX-style packed B-frames using ffmpeg, you can use the command:</p>
<p>ffmpeg -i INPUT.avi -codec copy -bsf:v mpeg4_unpack_bframes OUTPUT.avi
2.22 noise
Damages the contents of packets or simply drops them without damaging the container. Can be used for fuzzing or testing error resilience/concealment.</p>
<p>Parameters:</p>
<p>amount
A numeral string, whose value is related to how often output bytes will be modified. Therefore, values below or equal to 0 are forbidden, and the lower the more frequent bytes will be modified, with 1 meaning every byte is modified.</p>
<p>dropamount
A numeral string, whose value is related to how often packets will be dropped. Therefore, values below or equal to 0 are forbidden, and the lower the more frequent packets will be dropped, with 1 meaning every packet is dropped.</p>
<p>The following example applies the modification to every byte but does not drop any packets.</p>
<p>ffmpeg -i INPUT -c copy -bsf noise[=1] output.mkv
2.23 null
This bitstream filter passes the packets through unchanged.</p>
<p>2.24 prores_metadata
Modify color property metadata embedded in prores stream.</p>
<p>color_primaries
Set the color primaries. Available values are:</p>
<p>‘auto’
Keep the same color primaries property (default).</p>
<p>‘unknown’
‘bt709’
‘bt470bg’
BT601 625</p>
<p>‘smpte170m’
BT601 525</p>
<p>‘bt2020’
‘smpte431’
DCI P3</p>
<p>‘smpte432’
P3 D65</p>
<p>transfer_characteristics
Set the color transfer. Available values are:</p>
<p>‘auto’
Keep the same transfer characteristics property (default).</p>
<p>‘unknown’
‘bt709’
BT 601, BT 709, BT 2020</p>
<p>matrix_coefficients
Set the matrix coefficient. Available values are:</p>
<p>‘auto’
Keep the same transfer characteristics property (default).</p>
<p>‘unknown’
‘bt709’
‘smpte170m’
BT 601</p>
<p>‘bt2020nc’
Set Rec709 colorspace for each frame of the file</p>
<p>ffmpeg -i INPUT -c copy -bsf:v prores_metadata=color_primaries=bt709:color_trc=bt709:colorspace=bt709 output.mov
2.25 remove_extra
Remove extradata from packets.</p>
<p>It accepts the following parameter:</p>
<p>freq
Set which frame types to remove extradata from.</p>
<p>‘k’
Remove extradata from non-keyframes only.</p>
<p>‘keyframe’
Remove extradata from keyframes only.</p>
<p>‘e, all’
Remove extradata from all frames.</p>
<p>2.26 text2movsub
Convert text subtitles to MOV subtitles (as used by the mov_text codec) with metadata headers.</p>
<p>See also the mov2textsub filter.</p>
<p>2.27 trace_headers
Log trace output containing all syntax elements in the coded stream headers (everything above the level of individual coded blocks). This can be useful for debugging low-level stream issues.</p>
<p>Supports AV1, H.264, H.265, (M)JPEG, MPEG-2 and VP9, but depending on the build only a subset of these may be available.</p>
<p>2.28 truehd_core
Extract the core from a TrueHD stream, dropping ATMOS data.</p>
<p>2.29 vp9_metadata
Modify metadata embedded in a VP9 stream.</p>
<p>color_space
Set the color space value in the frame header.</p>
<p>‘unknown’
‘bt601’
‘bt709’
‘smpte170’
‘smpte240’
‘bt2020’
‘rgb’
color_range
Set the color range value in the frame header. Note that this cannot be set in RGB streams.</p>
<p>‘tv’
‘pc’
2.30 vp9_superframe
Merge VP9 invisible (alt-ref) frames back into VP9 superframes. This fixes merging of split/segmented VP9 streams where the alt-ref frame was split from its visible counterpart.</p>
<p>2.31 vp9_superframe_split
Split VP9 superframes into single frames.</p>
<p>2.32 vp9_raw_reorder
Given a VP9 stream with correct timestamps but possibly out of order, insert additional show-existing-frame packets to correct the ordering.</p>
</div>
<div class="section" id="see-also">
<h2>3 See Also<a class="headerlink" href="#see-also" title="永久链接至标题">¶</a></h2>
<p>ffmpeg, ffplay, ffprobe, libavcodec</p>
</div>
<div class="section" id="authors">
<h2>4 Authors<a class="headerlink" href="#authors" title="永久链接至标题">¶</a></h2>
<p>The FFmpeg developers.</p>
<p>For details about the authorship, see the Git history of the project (git://source.ffmpeg.org/ffmpeg), e.g. by typing the command git log in the FFmpeg source directory, or browsing the online repository at http://source.ffmpeg.org.</p>
<p>Maintainers for the specific components are listed in the file MAINTAINERS in the source code tree.</p>
<p>This document was generated on June 11, 2019 using makeinfo.</p>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="ffmpeg-formats.html" class="btn btn-neutral float-right" title="FFmpeg Formats Documentation" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="ffmpeg-codecs.html" class="btn btn-neutral float-left" title="FFmpeg Codecs Documentation" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2019, BandCap

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>